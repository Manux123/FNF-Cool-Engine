<xml>
	<set name="PROJECT_DIR" value="${this_dir}" />
	<set name="CPP_DIR" value="${PROJECT_DIR}/cpp" />

	<!-- ── Compiler include paths (all platforms) ───────────────── -->
	<files id='haxe'>
		<compilervalue name="-I" value="${CPP_DIR}/include/" />
		<compilervalue name="-I" value="${CPP_DIR}/src/" />
	</files>

	<!-- ── Windows: link bundled .lib files ─────────────────────── -->
	<target id='haxe' tool='linker' toolid='exe'>
		<lib name='${CPP_DIR}/lib/libvlc.lib'     if='windows' />
		<lib name='${CPP_DIR}/lib/libvlccore.lib' if='windows' />
	</target>

	<!-- ── Linux: link directly to bundled .so files ────────────── -->
	<!--
		<lib name="...so"> points the linker straight at the file —
		no need for -L / -l flags which hxcpp XML handles inconsistently.
		The RPATH tells the runtime loader to look in the binary's own
		directory first, so the shipped .so files are found automatically.
	-->
	<target id='haxe' tool='linker' toolid='exe'>
		<lib name='${CPP_DIR}/lib/linux/libvlc.so'     if='linux' />
		<lib name='${CPP_DIR}/lib/linux/libvlccore.so' if='linux' />
		<linkervalue value="-Wl,-rpath,'$$ORIGIN'"     if='linux' />
	</target>

	<!-- ── macOS: link against Homebrew / VLC.app dylibs ────────── -->
	<!--
		Homebrew Intel  : /usr/local/lib
		Homebrew Silicon: /opt/homebrew/lib
		VLC.app         : /Applications/VLC.app/Contents/MacOS/lib
		All three paths are searched so any Mac setup works.
	-->
	<target id='haxe' tool='linker' toolid='exe'>
		<linkervalue value='-L/usr/local/lib'                            if='macos' />
		<linkervalue value='-L/opt/homebrew/lib'                         if='macos' />
		<linkervalue value='-L/Applications/VLC.app/Contents/MacOS/lib' if='macos' />
		<linkervalue value='-lvlc'                                       if='macos' />
		<linkervalue value='-Wl,-rpath,/usr/local/lib'                   if='macos' />
		<linkervalue value='-Wl,-rpath,/opt/homebrew/lib'                if='macos' />
		<linkervalue value='-Wl,-rpath,/Applications/VLC.app/Contents/MacOS/lib' if='macos' />
	</target>

</xml>
